<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
xmlns="http://www.w3.org/1999/xhtml"
><head
><meta
content="text/html; charset=iso8859-1"
http-equiv="Content-Type"
></meta
><link
href="../include/default.css"
rel="stylesheet"
type="text/css"
></link
><link
href="../include/favicon.ico"
rel="shortcut icon"
></link
><script
src="../include/email.js"
type="text/javascript"
xml:space="preserve"
></script
><meta
content="text/html; charset=ISO-8859-1"
http-equiv="Content-Type"
></meta
><script
xml:space="preserve"
src="../include/menu.js"
type="text/javascript"
></script
><link
rel="stylesheet"
type="text/css"
href="../include/menu.css"
></link
><title
>JSConTest</title
><style
xml:space="preserve"
type="text/css"
>
      h3.blue {
        text-color: #567;
      }
    </style
></head
><body
onload="createMail();GLOBAL_MENU_72a2692.setup(175,'MENU_ITEM_7','MENU_PROGLANG_72a2692_COOKIE')"
><div
id="wrapper"
>
				<table
id="wrapperTable"
summary="layout table"
><tbody
><tr
><td
colspan="1"
id="leftwrapperTable"
rowspan="1"
>
								<div
id="leftcolumnWrapper"
>
									<div
id="leftTopSpace"
> </div
>
									<div
id="leftGreyBar"
> </div
>
									<div
id="leftUpperSpace"
> </div
>
									<div
id="HOLE_vmenu"
><ul
><li
class="leaf"
><a
shape="rect"
href="../publications"
id="MENU_ITEM_16"
>Publikationen</a
></li
><li
><a
shape="rect"
href="index.html#"
onclick="javascript:GLOBAL_MENU_72a2692.toggle('MENU_ITEM_15')"
class="submenu"
id="MENU_ITEM_15a"
>Projekte</a
><ul
id="MENU_ITEM_15"
><li
class="leaf"
><a
shape="rect"
href="../projects/gradual/ljgs/index.html"
id="MENU_ITEM_14"
>LJGS</a
></li
><li
class="leaf"
><a
shape="rect"
href="http://proglang.informatik.uni-freiburg.de/treatjs/"
id="MENU_ITEM_13"
>TreatJS</a
></li
><li
class="leaf"
><a
shape="rect"
href="../sandbox/index.html"
id="MENU_ITEM_12"
>DecentJS</a
></li
><li
class="leaf"
><a
shape="rect"
href="../proxy/index.html"
id="MENU_ITEM_11"
>Transparent Object Proxies for JavaScript</a
></li
><li
class="leaf"
><a
shape="rect"
href="../containment/index.html"
id="MENU_ITEM_10"
>Regular Expression Inequalities</a
></li
><li
class="leaf"
><a
shape="rect"
href="../tbda/index.html"
id="MENU_ITEM_9"
>Type-based Dependency Analysis</a
></li
><li
class="leaf"
><a
shape="rect"
href="../jscontest2/index.html"
id="MENU_ITEM_8"
>JSConTest2</a
></li
><li
class="leaf mark"
><a
shape="rect"
href="index.html"
class="mark"
id="MENU_ITEM_7"
>JSConTest</a
></li
><li
class="leaf"
><a
shape="rect"
href="../JavaScript/index.html"
id="MENU_ITEM_6"
>Recency (JavaScript)</a
></li
><li
class="leaf"
><a
shape="rect"
href="../projects/dstm/index.html"
id="MENU_ITEM_5"
>STM for Distributed Systems</a
></li
><li
class="leaf"
><a
shape="rect"
href="../projects/twilight/index.html"
id="MENU_ITEM_4"
>Twilight STM</a
></li
><li
class="leaf"
><a
shape="rect"
href="http://www.informatik.uni-freiburg.de/~thiemann/haskell/WASH/"
id="MENU_ITEM_3"
>WASH</a
></li
><li
class="leaf"
><a
shape="rect"
href="../projects/coroutines/index.html"
id="MENU_ITEM_2"
>Coroutines</a
></li
></ul
></li
></ul
></div
>
								</div
>
							</td
><td
colspan="1"
id="logowrapperTable"
rowspan="1"
>
								<div
id="logocolumnWrapper"
>
									<div
id="logoWrapper"
>
										<a
href="http://www.uni-freiburg.de/"
shape="rect"
title="Albert-Ludwigs-Universität Freiburg"
><img
alt="Uni-Logo"
src="../include/unilogo-200x66.gif"
></img
></a
>
									</div
>
								</div
>
							</td
><td
colspan="1"
id="rightwrapperTable"
rowspan="1"
>
								<div
id="rightcolumnWrapper"
>
									<div
id="portal-header"
>
										<div
id="title-resource"
>
											<table
border="0"
cellpadding="0"
cellspacing="0"
summary="layout table"
><tbody
><tr
><td
colspan="1"
rowspan="1"
valign="bottom"
><span
class="resource"
>Prog&#955;ang</span
></td
></tr
></tbody
></table
>
										</div
>
										<div
id="logo-resource"
></div
>
										<div
id="title-uni"
>
											<a
href="http://www.uni-freiburg.de/"
shape="rect"
title="Albert-Ludwigs-Universität Freiburg"
>Albert-Ludwigs-Universität Freiburg</a
>
										</div
>
									</div
>
									<div
id="red-bar"
></div
>
									<div
id="sections-breadcrumbs"
>
										<div
id="portal-breadcrumbs"
>
											<span
id="breadcrumbs-fix"
></span
>
											<div
>
                                               <ul
class="right"
><li
><a
href="http://www.informatik.uni-freiburg.de"
shape="rect"
>Institut 
                                                 für Informatik</a
></li
><li
><a
href="http://www.tf.uni-freiburg.de"
shape="rect"
>Technische 
                                                 Fakultät</a
></li
></ul
>
                                            </div
>
                                            <div
id="HOLE_hmenu"
><ul
><li
><a
shape="rect"
href="../index.html"
>Home</a
></li
><li
><a
shape="rect"
href="../personal/index.html"
>Personal</a
></li
><li
><a
shape="rect"
href="../teaching/index.html"
>Lehre</a
></li
><li
class="mark"
><a
shape="rect"
href="../research/index.html"
class="mark"
>Forschung</a
></li
><li
><a
shape="rect"
href="../events/index.html"
>Veranstaltungen</a
></li
><li
><a
shape="rect"
href="../offers/index.html"
>Stellen</a
></li
></ul
></div
>
											
										</div
>
									</div
>
					                <div
class="def"
id="content"
style="vertical-align: top;"
>
										<div
id="HOLE_content"
><div
class="part"
>
      <h1
>Access Permission Contracts for Scripting Languages</h1
>

      <p
> The ideal software contract fully specifies the behavior of
      an operation. Often, in particular in the context of scripting
      languages, a full specification may be cumbersome to state and
      may not even be desired. In such cases, a partial specification,
      which describes selected aspects of the behavior, may be used
      to raise the confidence in an implementation of the operation to
      a reasonable level.
      </p
>

      <p
> We propose a novel kind of contract for object-based
      languages that specifies the side effects of an operation with
      access permissions. An access permission contract uses sets of
      access paths to express read and write permissions for the
      properties of the objects accessible from the operation.
      </p
>

      <p
> We specify a monitoring semantics for access permission
      contracts and implement this semantics in a contract system for
      JavaScript. We prove soundness and stability of violation under
      increasing aliasing for our semantics.
      </p
>

      <p
> Applications of access permission contracts include
      security, enforcing modularity, test-driven development, program
      understanding, and regression testing. With respect to testing
      and understanding, we find that adding access permissions to
      contracts increases the effectiveness of error detection through
      contract monitoring by 6-13&#37;.
      </p
>

      <p
>
        <a
shape="rect"
href="popl-2012-tech.pdf"
>Paper and Technical Report</a
> 
      </p
>

    <div
style="padding-left:2em;"
>
      <h2
>Case Studies</h2
>
      <p
>
        The examples require JavaScript activated. They
        work with JSConTest version 0.2.* or later. 
        Each example comprises its annotated source code, a simple driver html page, 
        and the instrumented
        source code, which is generated by the compiler by the command
        line: </p
>

      <pre
xml:space="preserve"
style="background-color:lightgray;"
>  jscontest -e -tn 50 [name-of-annotated-file.js] </pre
>
     <p
>
        There is no need to understand the instrumented source code! 
        Some of the examples make use of custom contracts, which you can 
        have a look at by following the generator links.
      </p
>

      
      <h3
class="blue"
>Microbenchmark</h3
>
      <ul
><li
><a
shape="rect"
href="effects/run_array_hasmap.htm"
>Array - Hash-table</a
>,
          A collection of some simple functions, where parameters where used as
          arrays or hash tables. 50 tests per method are executed. 
          (<a
shape="rect"
href="effects/array-hashmap.js"
>annotated source code</a
>, 
           <a
shape="rect"
href="effects/array-hashmap.test.js"
>instrumented source code</a
>)
        </li
></ul
>

      <h3
class="blue"
>Data Structures</h3
>
      <p
>
        The singly-linked list and the binary search tree implemenation are taken from 
        <a
shape="rect"
href="https://github.com/nzakas/computer-science-in-javascript"
>Computer 
          Science in JavaScript</a
> by <a
shape="rect"
href="http://www.nczonline.net/"
>Nicholas 
          C. Zakas</a
>.
      </p
>
      <ul
><li
><a
shape="rect"
href="effects/run_linked_list.htm"
>Singly-Linked List</a
>,
          An implementation of a singly-linked list, with methods 
          <code
>add, item, remove, size, toArray, toString</code
>,
          executing 50 tests per method. 
          (<a
shape="rect"
href="effects/linked-list.js"
>annotated source code</a
>, 
           <a
shape="rect"
href="effects/linked-list.test.js"
>instrumented source code</a
>,
           <a
shape="rect"
href="effects/linked-list.generators.js"
>single linked list generators</a
>)
        </li
><li
><a
shape="rect"
href="effects/run_tree.htm"
>Binary Search Tree</a
>,
          An implementation of a binary search tree, with methods 
          <code
>add, contains, remove</code
>. For each method 50 test cases are executed.  
          (<a
shape="rect"
href="effects/binary-search-tree.js"
>annotated source code</a
>, 
           <a
shape="rect"
href="effects/binary-search-tree.test.js"
>instrumented source code</a
>,
           <a
shape="rect"
href="effects/binary-search-tree.generators.js"
>binary search tree generators</a
>)
        </li
></ul
>

      <h3
class="blue"
>Google V8 Benchmark</h3
>
      <p
>
        The Google benchmark code is from the
          <a
shape="rect"
href="http://v8.googlecode.com/svn/data/benchmarks/v6/run.html"
>Google V8 Benchmark
          site</a
>.
      </p
>
      <ul
><li
><a
shape="rect"
href="effects/run_richards.htm"
>Richards Benchmark</a
>, Executing 50 tests 
          per method. 
          (<a
shape="rect"
href="effects/richards.js"
>annotated source code</a
>, 
           <a
shape="rect"
href="effects/richards.test.js"
>instrumented source code</a
>,
           <a
shape="rect"
href="effects/richards.generators.js"
>generators</a
>)
	</li
><li
><a
shape="rect"
href="effects/run_delta.htm"
>Deltablue Benchmark</a
>,
	    Executing the delta blue benchmark. 
          (<a
shape="rect"
href="effects/deltablue.js"
>annotated source code</a
>, 
           <a
shape="rect"
href="effects/deltablue.test.js"
>instrumented source code</a
>,
           <a
shape="rect"
href="effects/deltablue_generators.js"
>generators</a
>)
	   This version uses JSConTest version 0.5.0. 
	</li
></ul
>

    </div
>
    </div
><div
class="part"
>      
      <h1
>A Heuristic Approach for Computing Effects</h1
>
      <p
>
        The effect of an operation on an object network can be
        described by the access paths along which the function reads
        or writes object properties. Abstracted to access path
        permissions, the effect can serve as part of the operation's
        documentation, augmenting a type signature or a contract for
        the operation.  Statically determining such an effect is a
        challenging problem, in particular in a dynamic language which
        represents objects by hash tables like the current breed of
        scripting languages.
      </p
>

      <p
>
        In this work, we propose an analysis that computes access
        permissions describing the effect of an operation from a set
        of access paths obtained by running the program. The main
        ingredient of the analysis is a novel heuristic to abstract a
        set of access paths to a concise access permission.
      </p
>

      <p
>
        Our analysis is implemented as part of JSConTest, a testing
        framework for JavaScript. It has been applied to a range of
        examples with encouraging results.
      </p
>      

      <p
><a
shape="rect"
href="access_inference.pdf"
>pdf</a
> 
        (<a
shape="rect"
href="http://toolseurope2011.lcc.uma.es/"
>TOOLS Europe 2011</a
>)
      </p
>
   </div
><div
class="part"
>
      <h1
><a
shape="rect"
name="access"
></a
>Access Permission Contracts</h1
>
      <p
>
        The ideal software contract is a full specification of the
        behavior of an operation. Often, in particular in the context
        of scripting languages, a full specification can be cumbersome
        to state and may not even be desired. In such cases, a partial
        specification, which describes select aspects of the behavior,
        may be used to raise the confidence in an implementation of
        the operation to a reasonable level.
      </p
>

      <p
>
        We propose a novel style of contract for object-based
        languages that permits the partial specification of side
        effects. Specifically, our contract language attaches access
        permissions to functions and methods. An access permission
        describes the side effects of a method using sets of access
        paths that express read and write permissions for the
        properties of the objects accessible from the method. We
        specify a monitoring semantics for access permissions and
        implement this semantics as an extension of an existing
        contract system for JavaScript. We find that adding access
        permissions to contracts increases the effectiveness of error
        detection by contract monitoring by 6-13&#37;.
      </p
>

      <p
><a
shape="rect"
href="access.pdf"
>pdf</a
> (submitted to 
        <a
shape="rect"
href="http://ecoop11.comp.lancs.ac.uk/"
>ECOOP 2011</a
>)
      </p
>

    </div
><div
class="part"
>
      <h1
><a
shape="rect"
name="trans"
></a
>JSTrans - DOM Transactions for 
        Testing JavaScript
      </h1
>

      <p
>
        Unit testing in the presence of side effects requires the
        construction of a suitable test fixture before each test
        run. We consider the problem of providing test fixtures for
        unit testing of client-side JavaScript code that manipulates
        its underlying webpage. We propose using techniques from
        software transactional memory to cheaply restore the test
        fixture after each test run.
      </p
>

      <p
><a
shape="rect"
href="trans.pdf"
>pdf</a
> presented at 
        <a
shape="rect"
href="http://www2010.taicpart.org/"
>TAIC 2010</a
></p
>
    </div
><div
class="part"
>
      <h1
><a
shape="rect"
name="contract"
></a
>JSConTest - Contract-Driven Testing 
          of JavaScript Code</h1
>
      
      <p
>
        JSContest is a tool that enhances JavaScript with simple,
        type-like contracts and provides a framework for monitoring
        and guided random testing of programs against these contracts
        at the same time.  Function contracts in JSContest serve a
        dual role as specifications of the input/output behavior and
        as test case generators. Generation of test data for a
        contract is principally random, but can be guided by
        annotations on the contract to achieve higher
        coverage. Annotations may indicate dependencies among
        parameters or between parameters and the result or they may
        select lightweight program analyses, the results of which
        influence the choice of test data. A case study substantiates
        that JSContest finds type-related errors with high
        probability.
      </p
>
      
      <p
><a
shape="rect"
href="jscontest.pdf"
>pdf</a
> 
        (<a
shape="rect"
href="http://malaga2010.lcc.uma.es/"
>TOOLS 2010</a
>)
      </p
>

      <h2
>Examples</h2
>
      <p
>
        For the examples you have to activate JavaScript (except for
        the static version). These examples uses JSConTest in version 0.1.
      </p
>
      <ul
><li
><a
shape="rect"
href="ex1.html"
>Fig. 1 (dynamic version)</a
>
          The probability of finding a counterexample for the original contract of p 
          is about 2^(-32). (<a
shape="rect"
href="ex1.js"
>js source</a
>, 
          <a
shape="rect"
href="ex1.test.js"
>compiled js</a
>)
        </li
><li
><a
shape="rect"
href="ex1a.html"
>Fig. 1 - Analysis (@numbers) (dynamic version)</a
>
          Here you can see, that the analysis @numbers helps a lot by
          finding a counterexample for the contract of p.
          (<a
shape="rect"
href="ex1a.js"
>js source</a
>, 
          <a
shape="rect"
href="ex1a.test.js"
>compiled js</a
>)
        </li
><li
><a
shape="rect"
href="s_ex1.html"
>Fig. 1 (static version)</a
>
          Usually the framework did not find a counterexample for the
          contract of p, as this static version shows.  
        </li
><li
><a
shape="rect"
href="ex-compl.html"
>Fig. 2 - Diophantine equation (dynamic version)</a
>
          Here the framework has to solve a Diophantine equation to
          find a counterexample for the contract. Please notice,
          that the runtime of this example differs by a factor of 100
          depending on which browser you use. 
          
          In Google Chrome the counterexample is found in some seconds. 
          (<a
shape="rect"
href="ex-compl.js"
>js source</a
>, 
          <a
shape="rect"
href="ex-compl.test.js"
>compiled js</a
>)
        </li
><li
><a
shape="rect"
href="ex-obj.html"
>Fig. 3 - Object Access</a
>
          In this example normally no counterexample is found, since
          the probability to guess a object with a property &quot;quest&quot; 
          is low.
          (<a
shape="rect"
href="ex-obj.js"
>js source</a
>, 
          <a
shape="rect"
href="ex-obj.test.js"
>compiled js</a
>)
        </li
><li
><a
shape="rect"
href="ex-obja.html"
>Fig. 3 - Object Access - Analysis</a
>
          Here a counterexample is found in at most less that 5 tests.
          (<a
shape="rect"
href="ex-obja.js"
>js source</a
>, 
          <a
shape="rect"
href="ex-obja.test.js"
>compiled js</a
>)
        </li
><li
><a
shape="rect"
href="huffman.html"
>Huffman Tree (dynamic version)</a
>
          (<a
shape="rect"
href="huffman.js"
>js source</a
>, <a
shape="rect"
href="huffman.test.js"
>compiled js</a
>)
        </li
></ul
>
    </div
><div
class="part"
>
      <h1
>Software Download</h1
>
      <table
class="infos border"
><tr
class="head"
><th
colspan="1"
rowspan="1"
>Version</th
><th
colspan="1"
rowspan="1"
>Date</th
><th
colspan="1"
rowspan="1"
>Files</th
><th
colspan="1"
rowspan="1"
>Comment</th
></tr
><tr
><td
colspan="1"
rowspan="1"
>0.5.1</td
><td
colspan="1"
rowspan="1"
>12/01/2011</td
><td
colspan="1"
rowspan="1"
>
	    <a
shape="rect"
href="jscontest.0.5.1-7d366c2.zip"
>jscontest.0.5.1.zip</a
>
	  </td
><td
colspan="1"
rowspan="1"
>JOT Version</td
></tr
><tr
><td
colspan="1"
rowspan="1"
>0.5</td
><td
colspan="1"
rowspan="1"
>07/13/2011</td
><td
colspan="1"
rowspan="1"
><a
shape="rect"
href="jscontest.0.5.0-f211e7e.tar.gz"
>jscontest.0.5.0.tar.gz</a
>,
	    <a
shape="rect"
href="jscontest.0.5.0-f211e7e.zip"
>jscontest.0.5.0.zip</a
>
	  </td
><td
colspan="1"
rowspan="1"
>POPL 2012 Version</td
></tr
><tr
><td
colspan="1"
rowspan="1"
>0.4</td
><td
colspan="1"
rowspan="1"
>02/09/2011</td
><td
colspan="1"
rowspan="1"
><a
shape="rect"
href="jscontest.0.4.3.tar.gz"
>jscontest.0.4.3.tar.gz</a
></td
><td
colspan="1"
rowspan="1"
>TOOLS 2011 Version</td
></tr
><tr
><td
colspan="1"
rowspan="1"
>0.2</td
><td
colspan="1"
rowspan="1"
>06/11/2010</td
><td
colspan="1"
rowspan="1"
><a
shape="rect"
href="jscontest.0.2.5.tar.gz"
>jscontest.0.2.5.tar.gz</a
></td
><td
colspan="1"
rowspan="1"
>TAIC 2010 Version</td
></tr
><tr
><td
colspan="1"
rowspan="1"
>0.1</td
><td
colspan="1"
rowspan="1"
>01/20/2010</td
><td
colspan="1"
rowspan="1"
><a
shape="rect"
href="jscontest.0.1.17.tar.gz"
>jscontest.0.1.17.tar.gz</a
></td
><td
colspan="1"
rowspan="1"
>TOOLS 2010 Version</td
></tr
></table
>    
      
      <p
>
        Look at the <a
shape="rect"
href="https://raw.github.com/heidegger/JSConTest/master/CHANGES"
>CHANGES</a
>
        to see the differences between the versions.  
      </p
>

      <p
>
        Since JSConTest evolves steadily, the source code is available now 
        on <a
shape="rect"
href="https://github.com/"
>github</a
>. 
        There you can easily access all versions of the software under 
        <a
shape="rect"
href="https://github.com/heidegger/JSConTest"
>JSConTest</a
>.
      </p
>
      
    </div
><div
class="part"
>
      <h1
>License of the Software</h1
>
      <p
>Copyright 2010 Phillip Heidegger. All rights reserved.</p
>
      
      <p
>
        Redistribution and use in source and binary forms, with or
        without modification, are permitted provided that the following
        conditions are met:
      </p
>

    <ol
><li
>
      Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    </li
><li
>
      Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials
      provided with the distribution.
    </li
></ol
>

    <p
>
      THIS SOFTWARE IS PROVIDED BY PHILLIP HEIDEGGER ``AS IS'' AND ANY
      EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
      THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
      PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL PHILLIP
      HEIDEGGER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
      INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
      (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
      OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
      INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
      WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
      NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
      THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
      DAMAGE.
    </p
>

    <p
>
      The views and conclusions contained in the software and
      documentation are those of the authors and should not be
      interpreted as representing official policies, either expressed
      or implied, of Phillip Heidegger.  
    </p
>
    </div
><div
>
      <h1
>Contributions by</h1
>
      <p
>Stefan Frank (JS Parser), 
	Dirk Kienle (jquerry interface, delta debugging), 
	Annette Bieniusa (transaction support, case studies), 
	Peter Thiemann (effect inference).
      </p
>
    </div
></div
>
										<br
></br
>
									</div
>
								</div
>
							</td
></tr
><tr
><td
colspan="1"
rowspan="1"
></td
><td
colspan="1"
rowspan="1"
></td
><td
colspan="1"
rowspan="1"
>
								<div
>
									<div
id="portal-footer"
>
										<div
id="im-footer"
>
											<a
href="../imprint.html"
shape="rect"
title="Impressum"
>Impressum</a
> 
											<a
href="../personal/index.html"
shape="rect"
title="Kontakt"
>Kontakt</a
>  
											Last modified: <span
id="HOLE_last_modified"
>2011-12-01 11:12:25 +0100</span
> 
										</div
>
										<div
id="rightSpace"
> </div
>
									</div
>
								</div
>
							</td
></tr
></tbody
></table
>
			</div
></body
></html
>
